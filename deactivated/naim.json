{"name":"UNITI", 
    "manufacturer":"NAIM",
    "version":1,
    "type":"AVRECEIVER", 
    "variables":{
        "NaimIp":"192.168.1.110",
        "VolumePlayed":"",
        "MyStatus":"",
        "SwitchedOn":"",
        "ActionStatus":""
    },
    "switches":{
        "POWER" : {"label":"POWER", "listen":"SwitchedOn", "evaldo":[{"test":"DYNAMIK $Result", "then":"SWITCHON", "or":"SWITCHOFF"}]}
      },
    "labels":{
        "CurrentStatus" : {"label":" ", "listen":"MyStatus", "actionlisten":"ActionStatus"}
    },
    "buttons":{
       "POWER ON": {"label":"", "type":"static", "command":"", "evaldo":[{"test":true,"then":"INITIALISE", "or":""}]},
       "POWER OFF": {"label":"", "type":"static", "command":"", "evaldo":[{"test":true,"then":"CLEANUP", "or":""}]},
       "SWITCHON": {"label":"", "type":"http-rest", "command":"{\"verb\":\"put\",\"call\":\"http://$NaimIp:15081/power?system=on\", \"message\":{}}"},
       "SWITCHOFF": {"label":"", "type":"http-rest", "command":"{\"verb\":\"put\",\"call\":\"http://$NaimIp:15081/power?system=lona\", \"message\":{}}"},
       "STATUS": {"label":"", "type":"http-get", "command":"http://$NaimIp:15081/levels/room", "queryresult":"$.volume", "evalwrite":[{"variable":"MyStatus","value":"$Result"}]},
       "__VOLUMESET": {"label":"", "type":"http-rest", "command":"{\"verb\":\"put\",\"call\":\"http://$NaimIp:15081/levels/room?volume=$VolumePlayed\", \"message\":{}}"}
    },
    "sliders":{
        "VOLUME": {"label":"", "unit" : "db", "listen" : "VolumePlayed", "evaldo":[{"test":true, "then":"__VOLUMESET", "or":""}]}
    },
    "directories":{
        "INPUT": {"label":"", "feeders": {
            "Inputs":{"label":"", "commandset": [{"type":"http-get", "command":"http://$NaimIp:15081/inputs", "queryresult":"$.children", "itemname":"DYNAMIK JSON.parse(\"$Result\").name", "itemlabel":"Naim input", "itemaction":"InputSet", "itemimage":"https://raw.githubusercontent.com/jac459/metadriver/master/AVReceiver/Input/ThemeStandard/input_av1.jpg", "evalwrite":[{"variable":"InputName","value":"DYNAMIK JSON.parse(\"$Result\").ussi"}]}]},
            "InputSet":{"label":"", "commandset": [{"type":"http-get", "command":"http://$NaimIp:15081/inputs/$InputName?cmd=select"}]}
              }
        }
    }
}